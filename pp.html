<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>1% Better Everyday</title>
  <link rel="icon" href="imagess.jpg" type="image/jpg">
  <style>
    .wrapper {
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden; /* Extra scroll remove */
    
      /* Scale up to compensate for 67% zoom */
      transform: scale(1.49);
      transform-origin: center;
    }
    
    body {
      margin: 0;
      padding: 20px;
      background: #ddd; /* Light gray background */
      font-family: "Times New Roman", serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100vw;
      min-height: 100vh;
    
      /* Scale up to compensate for 67% zoom */
      transform: scale(1.49);
      transform-origin: top center;
    
      /* Enable smooth vertical scrolling */
      overflow-x: hidden; /* Disable horizontal scroll */
      overflow-y: auto; /* Enable vertical scroll */
      scroll-behavior: smooth;
    }
    
    /* Thinnest possible scrollbar */
    body::-webkit-scrollbar {
      width: 2px; /* Ultra-thin scrollbar */
    }
    
    body::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.2); /* Light transparent scrollbar */
      border-radius: 10px; /* Smooth edges */
    }
    
    body::-webkit-scrollbar-track {
      background: transparent; /* Invisible track */
    }
    
    body::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.2); /* Light transparent scrollbar */
      border-radius: 10px; /* Smooth edges */
    }
    
    body::-webkit-scrollbar-track {
      background: transparent; /* Invisible track */
    }
    
    
    
    h1 {
      margin-bottom: 20px;
      font-size: 2rem;
      letter-spacing: 1px;
      color: #333;
    }

    .page-container {
      width: 600px; /* Default width */
      height: 850px; /* Default height */
      background: linear-gradient(to bottom, #f5e6d3, #e0c7a1); /* Gradient for depth */
      border-radius: 50px; /* Curved edges for barrel shape */
      border: 4px solid #fff;
      box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.2), 0 8px 16px rgba(0, 0, 0, 0.3);
      padding: 50px 30px;
      position: relative;
      overflow: hidden;
      /* 3D settings for turnover effect */
      transform-style: preserve-3d;
      perspective: 1200px;
      backface-visibility: hidden;
    
    }
    
    /* Minimal Navigation Icons */
    .nav-icon {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #333;
      cursor: pointer;
      user-select: none;
      opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .page-container:hover .nav-icon {
      opacity: 1;
    }
    .nav-icon:hover {
      transform: translateY(-50%) scale(1.1);
    }
    .nav-prev {
      left: 10px;
    }
    .nav-next {
      right: 10px;
    }

    /* Save Buttons */
    #saveBtn, #saveWeeklyBtn {
      position: absolute;
      bottom: 20px;
      right: 20px;
      padding: 8px 16px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      z-index: 5;
      transition: background 0.3s ease;
    }
    #saveBtn:hover, #saveWeeklyBtn:hover {
      background: #555;
    }

    /* Content Styles */
    h2 {
      text-align: center;
      text-transform: uppercase;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }
    .date-label {
      text-align: center;
      font-size: 1rem;
      margin-bottom: 10px;
      font-weight: bold;
    }
    .quote {
      font-style: italic;
      margin-bottom: 15px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }
    .quote p {
      margin-bottom: 5px;
    }
    .quote span {
      display: block;
      text-align: right;
      font-size: 0.85rem;
      color: #666;
    }
    .section-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      margin: 15px 0 5px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 3px;
      letter-spacing: 0.5px;
    }
    ul {
      list-style: none;
      padding: 0;
      margin-bottom: 15px;
    }
    li {
      margin-bottom: 8px;
    }
    input[type="text"],
    input[type="number"],
    textarea {
      font-family: "Times New Roman", serif;
    }
    input[type="text"] {
      width: 80%;
      padding: 5px;
      border: 1px solid #aaa;
      border-radius: 4px;
      background: #fff;
    }
    /* Circular checkboxes */
    .agenda-list input[type="checkbox"] {
      appearance: none;
      width: 18px;
      height: 18px;
      border: 2px solid #000;
      border-radius: 50%;
      margin-right: 10px;
      position: relative;
      cursor: pointer;
    }
    .agenda-list input[type="checkbox"]:checked {
      background: #000;
    }
    .agenda-list input[type="checkbox"]:checked::after {
      content: "âœ“";
      color: #fff;
      font-size: 14px;
      position: absolute;
      top: -2px;
      left: 3px;
    }
    .rating-box {
      display: inline-block;
      margin-right: 20px;
      margin-bottom: 10px;
    }
    .rating-box label {
      margin-right: 5px;
      font-weight: bold;
    }
    .rating-box input[type="number"] {
      width: 50px;
      padding: 4px;
      border: 1px solid #aaa;
      border-radius: 4px;
      text-align: center;
    }
    textarea {
      width: 100%;
      min-height: 60px;
      margin-bottom: 10px;
      padding: 6px 8px;
      border: none;
      border-bottom: 1px dotted #999;
      resize: vertical;
      background: transparent;
      font-size: 1rem;
      box-sizing: border-box;
    }
    .thankful-textarea {
      min-height: 120px;
    }
    /* New Rule: Weekly Review Textareas equal size */
    .weekly-review textarea {
      height: 200px;  /* Set fixed height for each textarea */
    }
    /* Transition effect for page turnover */
    .page-container.transition {
      transition: transform 0.7s ease-in-out;
    }
  </style>
</head>
<body>

  <!-- A4 Page Container -->
  <div class="page-container" id="pageContainer">
    <!-- Navigation Icons will be added dynamically -->
  </div>

  <script>
    /* CONFIGURATION */
    const TOTAL_DAYS = 365; // Total days to track
    let startDate = new Date();
    // Uncomment below to start from a specific date:
    // startDate = new Date("2025-02-01");

    // Retrieve currentOffset from localStorage if available, else default to 0
    let currentOffset = parseInt(localStorage.getItem("currentOffset") || "0", 10);

    const quotes = [
      { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" },
      { text: "What seems to us as bitter trials are often blessings in disguise.", author: "Oscar Wilde" },
      { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
      { text: "Act as if what you do makes a difference. It does.", author: "William James" },
      { text: "With the new day comes new strength and new thoughts.", author: "Eleanor Roosevelt" },
    ];

    // Utility: format date (e.g., "Mon, Jan 01 2025")
    function formatDate(dateObj) {
      const options = { weekday: 'short', month: 'short', day: '2-digit', year: 'numeric' };
      return dateObj.toLocaleDateString(undefined, options);
    }
    // Utility: get date key for localStorage in YYYY-MM-DD format
    function getDateKey(dateObj) {
      return dateObj.toISOString().substring(0, 10);
    }

    /* Generate Daily Layout */
    function getDailyLayout(dateObj, dayIndex) {
      const quote = quotes[dayIndex % quotes.length];
      return `
        <h2>Daily Planner</h2>
        <div class="date-label">${formatDate(dateObj)}</div>
        <div class="quote">
          <p>"${quote.text}"</p>
          <span>- ${quote.author}</span>
        </div>
        <div class="rating-box">
          <label>Productivity:</label>
          <input type="number" id="prod" min="0" max="10" placeholder="/10">
        </div>
        <div class="rating-box">
          <label>Mood:</label>
          <input type="number" id="mood" min="0" max="10" placeholder="/10">
        </div>
        <div class="section-title">Today's Agenda</div>
        <ul class="agenda-list">
          <li><input type="checkbox" id="agenda1_cb"><input type="text" id="agenda1" placeholder="Agenda item"></li>
          <li><input type="checkbox" id="agenda2_cb"><input type="text" id="agenda2" placeholder="Agenda item"></li>
          <li><input type="checkbox" id="agenda3_cb"><input type="text" id="agenda3" placeholder="Agenda item"></li>
        </ul>
        <div class="section-title">Daily Goals</div>
        <ul class="goals-list">
          <li><input type="text" id="goal1" placeholder="Goal #1"></li>
          <li><input type="text" id="goal2" placeholder="Goal #2"></li>
          <li><input type="text" id="goal3" placeholder="Goal #3"></li>
        </ul>
        <div class="section-title">Reflection</div>
        <textarea id="reflection" placeholder="Write your reflection here..."></textarea>
        <div class="section-title">I am thankful for...</div>
        <textarea id="thankful" class="thankful-textarea" placeholder="Write what you are thankful for..."></textarea>
        <button id="saveBtn">Save</button>
      `;
    }

    /* Generate Weekly Review Layout with Save Button */
    function getWeeklyReviewLayout(dateObj, weekNumber) {
      return `
        <h2>Week ${weekNumber} - Review</h2>
        <div class="date-label">${formatDate(dateObj)} (Sunday)</div>
        <div class="weekly-review">
          <div class="section-title">Weekly Highlights</div>
          <textarea id="weeklyHighlights" placeholder="What went well this week..."></textarea>
          <div class="section-title">Areas to Improve</div>
          <textarea id="areasImprove" placeholder="What can be improved next week..."></textarea>
          <div class="section-title">Overall Reflection</div>
          <textarea id="overallReflection" placeholder="Overall thoughts on the week..."></textarea>
        </div>
        <button id="saveWeeklyBtn">Save Weekly Review</button>
      `;
    }

    /* Render page content based on currentOffset */
    function renderPage(offset) {
      const container = document.getElementById('pageContainer');
      let thisDate = new Date(startDate);
      thisDate.setDate(startDate.getDate() + offset);
      
      if (thisDate.getDay() === 0) {
        let weekNumber = Math.floor(offset / 7) + 1;
        container.innerHTML = getWeeklyReviewLayout(thisDate, weekNumber);
        loadWeeklyReviewData(thisDate);
        document.getElementById('saveWeeklyBtn').addEventListener('click', function(e) {
          e.preventDefault();
          saveWeeklyReviewData(thisDate);
        });
      } else {
        container.innerHTML = getDailyLayout(thisDate, offset);
        loadCurrentDayData(thisDate);
        document.getElementById('saveBtn').addEventListener('click', function(e) {
          e.preventDefault();
          saveCurrentDayData(thisDate);
        });
      }
      addNavigationIcons();
      localStorage.setItem("currentOffset", offset);
      localStorage.setItem("containerWidth", document.getElementById('pageContainer').offsetWidth);
      localStorage.setItem("containerHeight", document.getElementById('pageContainer').offsetHeight);
    }

    /* Save Daily Data */
    function saveCurrentDayData(dateObj) {
      const key = "planner_" + getDateKey(dateObj);
      const data = {
        prod: document.getElementById('prod')?.value || "",
        mood: document.getElementById('mood')?.value || "",
        agenda1: document.getElementById('agenda1')?.value || "",
        agenda1_cb: document.getElementById('agenda1_cb')?.checked || false,
        agenda2: document.getElementById('agenda2')?.value || "",
        agenda2_cb: document.getElementById('agenda2_cb')?.checked || false,
        agenda3: document.getElementById('agenda3')?.value || "",
        agenda3_cb: document.getElementById('agenda3_cb')?.checked || false,
        goal1: document.getElementById('goal1')?.value || "",
        goal2: document.getElementById('goal2')?.value || "",
        goal3: document.getElementById('goal3')?.value || "",
        reflection: document.getElementById('reflection')?.value || "",
        thankful: document.getElementById('thankful')?.value || ""
      };
      localStorage.setItem(key, JSON.stringify(data));
      alert("Daily Data saved for " + getDateKey(dateObj));
    }

    /* Load Daily Data */
    function loadCurrentDayData(dateObj) {
      const key = "planner_" + getDateKey(dateObj);
      const saved = localStorage.getItem(key);
      if (saved) {
        const data = JSON.parse(saved);
        if (document.getElementById('prod')) document.getElementById('prod').value = data.prod;
        if (document.getElementById('mood')) document.getElementById('mood').value = data.mood;
        if (document.getElementById('agenda1')) document.getElementById('agenda1').value = data.agenda1;
        if (document.getElementById('agenda1_cb')) document.getElementById('agenda1_cb').checked = data.agenda1_cb;
        if (document.getElementById('agenda2')) document.getElementById('agenda2').value = data.agenda2;
        if (document.getElementById('agenda2_cb')) document.getElementById('agenda2_cb').checked = data.agenda2_cb;
        if (document.getElementById('agenda3')) document.getElementById('agenda3').value = data.agenda3;
        if (document.getElementById('agenda3_cb')) document.getElementById('agenda3_cb').checked = data.agenda3_cb;
        if (document.getElementById('goal1')) document.getElementById('goal1').value = data.goal1;
        if (document.getElementById('goal2')) document.getElementById('goal2').value = data.goal2;
        if (document.getElementById('goal3')) document.getElementById('goal3').value = data.goal3;
        if (document.getElementById('reflection')) document.getElementById('reflection').value = data.reflection;
        if (document.getElementById('thankful')) document.getElementById('thankful').value = data.thankful;
      }
    }

    /* Save Weekly Review Data */
    function saveWeeklyReviewData(dateObj) {
      const key = "weeklyReview_" + getDateKey(dateObj);
      const data = {
        weeklyHighlights: document.getElementById('weeklyHighlights')?.value || "",
        areasImprove: document.getElementById('areasImprove')?.value || "",
        overallReflection: document.getElementById('overallReflection')?.value || "",
        containerWidth: document.getElementById('pageContainer').offsetWidth,
        containerHeight: document.getElementById('pageContainer').offsetHeight
      };
      localStorage.setItem(key, JSON.stringify(data));
      alert("Weekly Review Data saved for " + getDateKey(dateObj));
    }

    /* Load Weekly Review Data */
    function loadWeeklyReviewData(dateObj) {
      const key = "weeklyReview_" + getDateKey(dateObj);
      const saved = localStorage.getItem(key);
      if (saved) {
        const data = JSON.parse(saved);
        if (document.getElementById('weeklyHighlights')) document.getElementById('weeklyHighlights').value = data.weeklyHighlights;
        if (document.getElementById('areasImprove')) document.getElementById('areasImprove').value = data.areasImprove;
        if (document.getElementById('overallReflection')) document.getElementById('overallReflection').value = data.overallReflection;
        if (data.containerWidth && data.containerHeight) {
          document.getElementById('pageContainer').style.width = data.containerWidth + "px";
          document.getElementById('pageContainer').style.height = data.containerHeight + "px";
        }
      }
    }

    /* Add navigation icons inside the container */
    function addNavigationIcons() {
      const container = document.getElementById('pageContainer');
      if (!document.getElementById('prevIcon')) {
        const prev = document.createElement('div');
        prev.className = "nav-icon nav-prev";
        prev.id = "prevIcon";
        prev.innerHTML = "&#8249;";
        container.appendChild(prev);
        prev.addEventListener('click', function() {
          if (currentOffset > 0) transitionPage("prev");
          else alert("This is the start date!");
        });
      }
      if (!document.getElementById('nextIcon')) {
        const next = document.createElement('div');
        next.className = "nav-icon nav-next";
        next.id = "nextIcon";
        next.innerHTML = "&#8250;";
        container.appendChild(next);
        next.addEventListener('click', function() {
          if (currentOffset < (TOTAL_DAYS - 1)) transitionPage("next");
          else alert("You've reached the maximum day limit!");
        });
      }
    }

    /* Turnover transition effect using setTimeout for smoothness */
    function transitionPage(direction) {
      const container = document.getElementById('pageContainer');
      container.style.transition = "transform 0.7s ease-in-out";
      container.style.transform = direction === "next" ? "rotateY(-90deg)" : "rotateY(90deg)";
      setTimeout(() => {
        currentOffset = direction === "next" ? currentOffset + 1 : currentOffset - 1;
        renderPage(currentOffset);
        container.style.transition = "none";
        container.style.transform = direction === "next" ? "rotateY(90deg)" : "rotateY(-90deg)";
        void container.offsetWidth;
        container.style.transition = "transform 0.7s ease-in-out";
        container.style.transform = "rotateY(0deg)";
      }, 700);
    }

    /* Initial load */
    window.addEventListener('DOMContentLoaded', () => {
      renderPage(currentOffset);
    });
  </script>
</body>
</html>
